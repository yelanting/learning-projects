# <center>汇总</center>

本节介绍聚集函数，利用他们汇总数据。

## 一、聚集函数

场景：
- 确定表中行数（或者满足某个条件或者包含某个特定值的行数）
- 获得表中某些行的和
- 找出表列（或者所有行或者某些特定行）的最大值最小值平均值

> 聚集函数: 对某些行运行的函数，计算返回一个值。

|函数|说明|
|----|----|
|AVG|对某列求平均|
|COUNT|求某列的行数|
|MAX|求行的最大值|
|Min|求行的最小值|
|SUM|求列的和|

### 1.1 AVG

通过对表中行数计数并计算列值的和，求得平均值。
可以用来返回所有列的平均值，也可以用来返回特定列或者行的平均值。

AVG只能用来确定单个列的平均值，列名必须作为函数参数给出。如果希望获得多个列的平均值，必须多次使用AVG。

AVG忽略列值为null的行。

### 1.2 COUNT

进行行计数。可以利用count确定表中行数或者符合条件的数目。

- count*对表中的数目进行行计数，不管是不是空值
- count(column)对特定列中具有值的行进行计数，忽略null值。

### 1.3 max

返回指定列中的最大值。要求指定列名。

可以找出列中最大的数值或者日期，但是许多DBMS也允许返回文本，如果是返回文本的时候，则默认返回按照该列排序后的最后一行。

max忽略null值。

### 1.4 min

与max功能相反。

### 1.5 sum

返回指定列的和。

忽略null值。

## 二、聚集的其他用法

### 2.1 聚集不同值

以上函数都可以以下用法：

- 对所有行计算。指定all参数或者不指定参数，all是默认参数
- 只包含不同的值，指定distinct参数。

### 2.2 组合聚集

可以同时使用多个聚集函数。

如：

```sql

select count(*) as num_items , min(a) as min_a ,max(b) as max_b from table_a;
```