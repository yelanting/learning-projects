# <center>排序检索数据</center>

## 一、 排序数据

单个select查出的数据，显示出来的结果并不是随机的，如果不排序则数据一般将以它在底层中出现的顺序显示，这有可能是数据最初添加进表的顺序。但是，如果数据随后进行过更新或删除，则这个顺序可能会受到DBMS重用回收存储空间的方式的影响，如果不经过明确控制，则最终的结果不能依赖该排序顺序。

关系数据库的设计理论认为，如果不明确规定排序顺序，则不应该假定这个检索出的数据的顺序有意义。

## 二、具体介绍

### 2.1 子句

sql语句由子句构成，有些子句是必须的，有些则是可选。一个子句通常由一个关键字加上所提供的数据组成，比如前面提到的from子句。

为了明确排序，使用order by子句，它会取一个或多个列的名字，据此对输出排序。

```sql
select prod_name from products order by prod_name;

```
**位置**: 在指定一条order by子句的时候，应该保证它是select语句中点最后一条子句。如果他不是最后的，则会出现错误。

通常orderby子句中使用的列是前面已经指定的列，但是实际上不一定要这么做，也可以使用非检索的列进行排序，也是合法的。

### 2.2 多个列排序

要按照多个列排序，简单指定列名，它们之间用逗号分隔，则会依次按照指定列排序，在前面的列值相同的时候，按照后面的列进行排序，依次往后。
如果前面的值都是唯一的，则后面的排序指定将不会或者说不需要生效。

### 2.3 按列位置排序

除了可以指定列名排序之外，order by还支持按照相对列位置进行排序,如:

```sql
select prod_id , prod_price , prod_name from products order by 2 ,3 ;
```

这个语句将会后面的数字，对应前面指定的列，从1开始，上述语句中的2，3将会按照prod_price和prod_name进行排序。

**缺点**:
- 不明确指定列名，有可能造成错用列名排序
- 对select清单进行更改的时候，容易错误地对数据排序
- 如果进行排序的列不在select清单中，显然不能使用这个技术。

当然，也可以混合使用这两种方式进行排序指定。

### 2.3 指定排序方向

默认排序是升序的，按照ASCII进行排序。还可以指定排序的方向进行降序或者升序，为了指定为降序必须指定desc关键字。
DESC只对它前面那个列名生效。
如果想对多个列指定排序，则每个字段都需要指定，不能用一个desc或者asc应用到多个字段上。

DESC是DESCENDING的缩写，这两个都可以用。
ASE是ASCENDING的缩写，同样都可以用，通常指定ASC没多大用处，因为默认是ASC。


