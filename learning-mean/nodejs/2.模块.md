# 模块

模块化可以简化大型项目的开发。

## 一、模块化

模块是Nodejs程序的基本组成部分，文件和模块是一一对应的，一个nodejs文件就是一个模块，这个文件可能是js代码、json或者c c++扩展。

格式有两个：

- CommonJs.
- Es6

### 1.1 Commonjs

#### 1.1.1 模块引用

var math = require("math")

用require方法引入一个math模块，赋值给变量math，实际上变量名和引入的模块名不必相同，也可以赋值给Math，那后续只支持Math，不支持math，因为不认识。

require方法的参数传入

- 只有字符串，没有路径。引入当前模块下的同级node_modules文件夹下的math模块。如果在当前目录中没有node_modules又或者node_modules文件夹下面没有math模块，则会报错
- 相对路径或绝对路径。
  
  ```javascript
  var sum = require("./sum");
  ```

    表示引入当前文件的同级目录中的sum.js模块。

#### 1.1.2 定义

module对象。每个模块中，module对象代表该模块本身。
export属性。module对象的一个属性，向外提供接口。

```javascript
//sum.js
function sum(num1, num2){
    return num1 + num2;
}
```

```javascript
//main.js
var sum = require("./sum.js");

sum.sum(1 , 2);

```

虽然main中引入了sum，但是无法使用它的sum方法。sum中的sum方法如果想被其他模块使用就需要对外暴露一个接口，export属性用于完成这个工作。

```javascript
//sum.js
function sum(num1, num2){
    return num1 + num2;
}

module.exports.sum =sum;
```

```javascript
//main.js
var sum = require("./sum.js");

var result = sum.sum(1 , 2);

```

如此便会成功。

#### 1.1.3 模块标识

模块标识指传给require方法的参数。必须是小驼峰命名的字符串或者再加上相对和绝对路径，如果引入的是js文件，可省略后缀。

### 1.2 Es6

commonjs的这种模块机制，只适用于服务器端，浏览器端无法适用。

#### 1.2.1 基本导出

export关键字，将已发布的代码部分公开给其它模块。最简单的用法